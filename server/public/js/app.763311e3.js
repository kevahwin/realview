(function(){"use strict";var e={6053:function(e,t,n){var o=n(9963),s=n(6252);function a(e,t,n,o,a,i){const r=(0,s.up)("NavbarComponent"),c=(0,s.up)("MainComp"),l=(0,s.up)("PostComponent");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r),(0,s.Wm)(c),(0,s.Wm)(l)])}var i=n(3577);const r=e=>((0,s.dD)("data-v-e550ba9a"),e=e(),(0,s.Cn)(),e),c={class:"container"},l=r((()=>(0,s._)("h1",null,"Latest Posts",-1))),d={class:"create-post"},u=r((()=>(0,s._)("label",{for:"create-post"},"Say something",-1))),p=r((()=>(0,s._)("hr",null,null,-1))),h={key:0,class:"error"},v={class:"posts-container"},g=["item","index","onDblclick"],b={class:"text"},m=["onClick"];function f(e,t,n,a,r,f){return(0,s.wg)(),(0,s.iD)("div",c,[l,(0,s._)("div",d,[u,(0,s.wy)((0,s._)("input",{type:"text",id:"create-post","onUpdate:modelValue":t[0]||(t[0]=e=>r.text=e),placeholder:"create a post"},null,512),[[o.nr,r.text]]),(0,s._)("button",{onClick:t[1]||(t[1]=(...e)=>f.createPost&&f.createPost(...e))},"Post")]),p,r.error?((0,s.wg)(),(0,s.iD)("p",h,(0,i.zw)(r.error),1)):(0,s.kq)("",!0),(0,s._)("div",v,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.posts,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{class:"post",item:e,index:t,key:e._id,onDblclick:t=>f.deletePost(e._id)},[(0,s._)("p",b,(0,i.zw)(e.text),1),(0,s._)("button",{class:"addButton",onClick:t=>f.addToScene(e)},"Add To Scene",8,m)],40,g)))),128))])])}var w=n(3477);const y="api/posts/";class P{static getPosts(){return new Promise((async(e,t)=>{try{const t=await w.Z.get(y),n=t.data;e(n.map((e=>({...e,createdAt:new Date(e.createdAt)}))))}catch(n){t(n)}}))}static insertPost(e){return w.Z.post(y,{text:e})}static deletePost(e){return w.Z["delete"](`${y}${e}`)}}var k=P,C=n(4690).n0n,x={name:"PostComponent",data(){return{posts:[],error:"",text:""}},async created(){try{this.posts=await k.getPosts()}catch(e){this.error=e.message}},methods:{async createPost(){await k.insertPost(this.text),this.posts=await k.getPosts()},async deletePost(e){await k.deletePost(e),this.posts=await k.getPosts()},addToScene(e){console.log(e),C.ImportMesh("","https://realviewtest1.s3.eu-west-2.amazonaws.com/models/","item.glb",this.$parent.scene,(function(e){var t=e[0];console.log(t)}))}}},M=n(3744);const O=(0,M.Z)(x,[["render",f],["__scopeId","data-v-e550ba9a"]]);var S=O;const _=e=>((0,s.dD)("data-v-4d3621ae"),e=e(),(0,s.Cn)(),e),D=_((()=>(0,s._)("h3",null,"Software Engineering Group Project",-1))),R=_((()=>(0,s._)("canvas",null,null,-1))),T=[D,R];function I(e,t,n,o,a,i){return(0,s.wg)(),(0,s.iD)("div",null,T)}var A=n(7327),B=n(4690).xsS,Z=n(4690).D4V,j=n(4690).Pa4,W=n(4690).ezm,z=n(4690).YfP,E=n(4690).BtG,N=n(4690).zHn,F=n(4690).lSG,L=n(4690).BBM,G=n(4690).gZI,H=n(4690).n0n,V=document.getElementById("loadFile");V||(V=document.createElement("INPUT"),V.setAttribute("id","loadFile"),V.setAttribute("type","file"),V.style.position="absolute",V.style.top="80px",V.style.width="200px",V.style.height="100px",V.style.right="40px",document.body.children[0].appendChild(V)),n(8776),n(4241),n(8417);class ${constructor(e){(0,A.Z)(this,"scene",void 0),(0,A.Z)(this,"engine",void 0),this.engine=new Z(e,!0),this.scene=this.CreateScene();const t=H.ImportMesh("","./models/","item.glb"),n=t.meshes;console.log("meshes",n);const o=new W("hemiLight",new j(0,1,0),this.scene);o.intensity=.5;const s=new z("Camera",-Math.PI/4*3,Math.PI/4,10,new j(0,0,0),this.scene);s.attachControl(!0),this.initXR(),this.engine.runRenderLoop((()=>{this.scene.render()}))}CreateScene(){const e=new B(this.engine);return e}async initXR(){const e=E.CreateFromPrefilteredData("./environment/environment.env",this.scene),t=new G({groundOpacity:.75},this.scene);t.skybox?.dispose(),t.ground.scaling=new j(5,5,5),t.ground.position.y=-1.1,t.ground.isPickable=!1,this.scene.createDefaultSkybox(e,!0);const n=await L.CreateAsync(this.scene,{floorMeshes:[t.ground],optionalFeatures:!0}),o=new N(new j,new j,3),s=new j(new j,new j,3),a=new j(new j,new j,3),i=new F(o);i.show(this.scene);const r=new F(s);r.show(this.scene);const c=new F(a);let l,d;c.show(this.scene),n.input.onControllerAddedObservable.add((e=>{e.onMotionControllerInitObservable.add((t=>{if("right"===t.handness){const n=t.getComponentIds(),i=t.getComponent(n[0]);i.onButtonStateChangedObservable.add((()=>{i.value>.5?(e.getWorldPointerRayToRef(o,!1),l=this.scene.pickWithRay(o),l&&void 0!==l.pickedMesh&&l.pickedMesh&&(d=l.pickedMesh,console.log("name:"+l.pickedMesh.name),d.setParent(t.rootMesh))):i.value<.5&&void 0!=d&&d.setParent(null)}));const r=t.getComponent(n[3]);r.onButtonStateChangedObservable.add((()=>{r.pressed&&(e.getWorldPointerRayToRef(s,!1),l=this.scene.pickWithRay(s),l&&l.pickedMesh&&l.pickedMesh&&(l.pickedMesh.scaling.x*=.9,l.pickedMesh.scaling.y*=.9,l.pickedMesh.scaling.z*=.9))}));const c=t.getComponent(n[4]);c.onButtonStateChangedObservable.add((()=>{c.pressed&&(e.getWorldPointerRayToRef(a,!1),l=this.scene.pickWithRay(a),l&&l.pickedMesh&&l.pickedMesh&&(l.pickedMesh.scaling.x*=1.1,l.pickedMesh.scaling.y*=1.1,l.pickedMesh.scaling.z*=1.1))}))}}))}))}}var q={name:"mainComp",mounted(){const e=document.querySelector("canvas");new $(e)}};const U=(0,M.Z)(q,[["render",I],["__scopeId","data-v-4d3621ae"]]);var X=U;const Y={class:"navbar navbar-expand-lg navbar-light bg-light fixed-top"},K=(0,s.uE)('<a class="navbar-brand" href="#">RealView</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNav"><ul class="navbar-nav"><li class="nav-item active"><a class="nav-link" href="#">Home <span class="sr-only"></span></a></li><li class="nav-item"><a class="nav-link" href="#">Portfolio</a></li><div class="flex-grow"></div></ul><div><button class="btn btn-outline-success my-2 my-sm-0" style="color:#AE98BD;border-color:#AE98BD;">Login</button></div></div>',3),J=[K];function Q(e,t){return(0,s.wg)(),(0,s.iD)("nav",Y,J)}const ee={},te=(0,M.Z)(ee,[["render",Q]]);var ne=te,oe={name:"App",components:{PostComponent:S,MainComp:X,NavbarComponent:ne}};const se=(0,M.Z)(oe,[["render",a]]);var ae=se;n(3734);(0,o.ri)(ae).mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,s,a){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],s=e[d][1],a=e[d][2];for(var r=!0,c=0;c<o.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(r=!1,a<i&&(i=a));if(r){e.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,s,a]}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,a,i=o[0],r=o[1],c=o[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(c)var d=c(n)}for(t&&t(o);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(d)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(6053)}));o=n.O(o)})();
//# sourceMappingURL=app.763311e3.js.map