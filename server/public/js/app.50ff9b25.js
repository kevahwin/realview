(function(){"use strict";var e={4912:function(e,t,n){var s=n(9963),a=n(6252);function o(e,t,n,s,o,i){const r=(0,a.up)("NavbarComponent"),l=(0,a.up)("MainComp"),c=(0,a.up)("SimpleUpload"),d=(0,a.up)("PostComponent");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(r),(0,a.Wm)(l),(0,a.Wm)(c),(0,a.Wm)(d)])}var i=n(3577);const r=e=>((0,a.dD)("data-v-2fe16418"),e=e(),(0,a.Cn)(),e),l={class:"message-body"},c={class:"container"},d=r((()=>(0,a._)("h1",null,"Latest Posts",-1))),p={class:"create-post"},u=r((()=>(0,a._)("label",{for:"create-post"},"Say something",-1))),h=r((()=>(0,a._)("hr",null,null,-1))),g={key:0,class:"error"},v={class:"posts-container"},f=["item","index","onDblclick"],m={class:"text"},b=["onClick"];function w(e,t,n,o,r,w){return(0,a.wg)(),(0,a.iD)("div",null,[e.message?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,i.C_)("message "+(r.error?"is-danger":"is-success"))},[(0,a._)("div",l,(0,i.zw)(e.message),1)],2)):(0,a.kq)("",!0),(0,a._)("div",c,[d,(0,a._)("div",p,[u,(0,a.wy)((0,a._)("input",{type:"text",id:"create-post","onUpdate:modelValue":t[0]||(t[0]=e=>r.text=e),placeholder:"create a post"},null,512),[[s.nr,r.text]]),(0,a._)("button",{onClick:t[1]||(t[1]=(...e)=>w.createPost&&w.createPost(...e))},"Post")]),h,r.error?((0,a.wg)(),(0,a.iD)("p",g,(0,i.zw)(r.error),1)):(0,a.kq)("",!0),(0,a._)("div",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.posts,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"post",item:e,index:t,key:e._id,onDblclick:t=>w.deletePost(e._id)},[(0,a._)("p",m,(0,i.zw)(e.text),1),(0,a._)("button",{class:"addButton",onClick:t=>w.addToScene(e)},"Add To Scene",8,b)],40,f)))),128))])])])}n(7658);var y=n(3477);const k="api/posts/";class P{static getPosts(){return new Promise((async(e,t)=>{try{const t=await y.Z.get(k),n=t.data;e(n.map((e=>({...e,createdAt:new Date(e.createdAt)}))))}catch(n){t(n)}}))}static insertPost(e){return y.Z.post(k,{text:e})}static deletePost(e){return y.Z["delete"](`${k}${e}`)}}var _=P,C=n(4690).n0n,x={name:"PostComponent",data(){return{posts:[],error:"",text:"",post_id:""}},async created(){try{this.posts=await _.getPosts()}catch(e){this.error=e.message}},methods:{async createPost(){await _.insertPost(this.text),this.posts=await _.getPosts()},async deletePost(e){await _.deletePost(e),this.posts=await _.getPosts()},addToScene(e){console.log(e),C.ImportMesh("","https://realviewtest1.s3.eu-west-2.amazonaws.com/models/",e.post_id+".glb",this.$parent.scene,(function(e){var t=e[0];console.log(t)}))},addFileToList(){this.uploadedFiles.push(this.fileName),this.fileName=""}}},M=n(3744);const S=(0,M.Z)(x,[["render",w],["__scopeId","data-v-2fe16418"]]);var D=S;const O=e=>((0,a.dD)("data-v-4d3621ae"),e=e(),(0,a.Cn)(),e),F=O((()=>(0,a._)("h3",null,"Software Engineering Group Project",-1))),R=O((()=>(0,a._)("canvas",null,null,-1))),T=[F,R];function Z(e,t,n,s,o,i){return(0,a.wg)(),(0,a.iD)("div",null,T)}var I=n(7327),A=n(4690).xsS,B=n(4690).D4V,W=n(4690).Pa4,j=n(4690).ezm,z=n(4690).YfP,N=n(4690).BtG,E=n(4690).zHn,L=n(4690).lSG,U=n(4690).BBM,q=n(4690).gZI,$=n(4690).n0n,G=document.getElementById("loadFile");G||(G=document.createElement("INPUT"),G.setAttribute("id","loadFile"),G.setAttribute("type","file"),G.style.position="absolute",G.style.top="80px",G.style.width="200px",G.style.height="100px",G.style.right="40px",document.body.children[0].appendChild(G)),n(8776),n(4241),n(8417);class H{constructor(e){(0,I.Z)(this,"scene",void 0),(0,I.Z)(this,"engine",void 0),this.engine=new B(e,!0),this.scene=this.CreateScene();const t=$.ImportMesh("","./models/","item.glb"),n=t.meshes;console.log("meshes",n);const s=new j("hemiLight",new W(0,1,0),this.scene);s.intensity=.5;const a=new z("Camera",-Math.PI/4*3,Math.PI/4,10,new W(0,0,0),this.scene);a.attachControl(!0),this.initXR(),this.engine.runRenderLoop((()=>{this.scene.render()}))}CreateScene(){const e=new A(this.engine);return e}async initXR(){const e=N.CreateFromPrefilteredData("./environment/environment.env",this.scene),t=new q({groundOpacity:.75},this.scene);t.skybox?.dispose(),t.ground.scaling=new W(5,5,5),t.ground.position.y=-1.1,t.ground.isPickable=!1,this.scene.createDefaultSkybox(e,!0);const n=await U.CreateAsync(this.scene,{floorMeshes:[t.ground],optionalFeatures:!0}),s=new E(new W,new W,3),a=new W(new W,new W,3),o=new W(new W,new W,3),i=new L(s);i.show(this.scene);const r=new L(a);r.show(this.scene);const l=new L(o);let c,d;l.show(this.scene),n.input.onControllerAddedObservable.add((e=>{e.onMotionControllerInitObservable.add((t=>{if("right"===t.handness){const n=t.getComponentIds(),i=t.getComponent(n[0]);i.onButtonStateChangedObservable.add((()=>{i.value>.5?(e.getWorldPointerRayToRef(s,!1),c=this.scene.pickWithRay(s),c&&void 0!==c.pickedMesh&&c.pickedMesh&&(d=c.pickedMesh,console.log("name:"+c.pickedMesh.name),d.setParent(t.rootMesh))):i.value<.5&&void 0!=d&&d.setParent(null)}));const r=t.getComponent(n[3]);r.onButtonStateChangedObservable.add((()=>{r.pressed&&(e.getWorldPointerRayToRef(a,!1),c=this.scene.pickWithRay(a),c&&c.pickedMesh&&c.pickedMesh&&(c.pickedMesh.scaling.x*=.9,c.pickedMesh.scaling.y*=.9,c.pickedMesh.scaling.z*=.9))}));const l=t.getComponent(n[4]);l.onButtonStateChangedObservable.add((()=>{l.pressed&&(e.getWorldPointerRayToRef(o,!1),c=this.scene.pickWithRay(o),c&&c.pickedMesh&&c.pickedMesh&&(c.pickedMesh.scaling.x*=1.1,c.pickedMesh.scaling.y*=1.1,c.pickedMesh.scaling.z*=1.1))}))}}))}))}}var V={name:"mainComp",mounted(){const e=document.querySelector("canvas");new H(e)}};const X=(0,M.Z)(V,[["render",Z],["__scopeId","data-v-4d3621ae"]]);var Y=X;const K={class:"navbar navbar-expand-lg navbar-light bg-light fixed-top"},J=(0,a.uE)('<a class="navbar-brand" href="#">RealView</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNav"><ul class="navbar-nav"><li class="nav-item active"><a class="nav-link" href="#">Home <span class="sr-only"></span></a></li><li class="nav-item"><a class="nav-link" href="#">Portfolio</a></li><div class="flex-grow"></div></ul><div><button class="btn btn-outline-success my-2 my-sm-0" style="color:#AE98BD;border-color:#AE98BD;">Login</button></div></div>',3),Q=[J];function ee(e,t){return(0,a.wg)(),(0,a.iD)("nav",K,Q)}const te={},ne=(0,M.Z)(te,[["render",ee]]);var se=ne;const ae={class:"message-body"},oe={class:"field"},ie={class:"file is-boxed is-primary"},re={class:"file-label"},le=(0,a._)("span",{class:"file-cta"},[(0,a._)("span",{class:"file-icon"},[(0,a._)("i",{class:"fas fa-upload"})])],-1),ce=(0,a._)("div",{class:"field"},[(0,a._)("button",{class:"button is-info"}," Send ")],-1);function de(e,t,n,o,r,l){return(0,a.wg)(),(0,a.iD)("form",{onSubmit:t[1]||(t[1]=(0,s.iM)(((...e)=>l.sendFile&&l.sendFile(...e)),["prevent"])),enctype:"multipart/form-data"},[r.message?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,i.C_)("message "+(r.error?"is-danger":"is-success"))},[(0,a._)("div",ae,(0,i.zw)(r.message),1)],2)):(0,a.kq)("",!0),(0,a._)("div",oe,[(0,a._)("div",ie,[(0,a._)("label",re,[(0,a._)("input",{type:"file",ref:"file",onChange:t[0]||(t[0]=(...e)=>l.selectFile&&l.selectFile(...e)),class:"file-input"},null,544),le])])]),ce],32)}var pe={name:"SimpleUpload",data(){return{file:"",message:"",error:!1}},methods:{selectFile(){this.file=this.$refs.file.files[0],this.error=!1,this.message=""},async sendFile(){const e=new FormData;e.append("file",this.file);try{await y.Z.post("/api/uploads",e),this.message="File has been uploaded",this.file="",this.error=!1}catch(t){console.log(t),this.message=t.response.data.error,this.error=!0}}}};const ue=(0,M.Z)(pe,[["render",de]]);var he=ue,ge={name:"App",components:{SimpleUpload:he,PostComponent:D,MainComp:Y,NavbarComponent:se}};const ve=(0,M.Z)(ge,[["render",o]]);var fe=ve;n(3734);(0,s.ri)(fe).mount("#app")}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,s,a,o){if(!s){var i=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],o=e[d][2];for(var r=!0,l=0;l<s.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](s[l])}))?s.splice(l--,1):(r=!1,o<i&&(i=o));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,a,o]}}(),function(){n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,o,i=s[0],r=s[1],l=s[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(l)var d=l(n)}for(t&&t(s);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},s=self["webpackChunkclient"]=self["webpackChunkclient"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(4912)}));s=n.O(s)})();
//# sourceMappingURL=app.50ff9b25.js.map